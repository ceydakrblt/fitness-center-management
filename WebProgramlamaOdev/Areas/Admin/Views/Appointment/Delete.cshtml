@model WebProgramlamaOdev.Models.Appointment
@using WebProgramlamaOdev.Models 
@using static WebProgramlamaOdev.Models.AppointmentStatus // Enum'a doğrudan erişim için (Güvenlik amaçlı eklendi)

@{
    ViewData["Title"] = "Randevu İptali Onayı";
}

<div class="container mt-4">
    <h3>Bu randevuyu iptal etmek istediğinizden emin misiniz?</h3>
    <p class="text-danger">Bu işlem, randevunun durumunu "İptal Edildi" olarak işaretleyecektir (veya veritabanından silebilir).</p>
    <hr />

    <dl class="row">
        <dt class="col-sm-3">@Html.DisplayNameFor(model => model.User)</dt>
        <dd class="col-sm-9">@(Model.User?.UserName)</dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Trainer)</dt>
        <dd class="col-sm-9">@(Model.Trainer?.FullName)</dd>

        <dt class="col-sm-3">Tarih/Saat</dt>
        <dd class="col-sm-9">
            @Model.AppointmentDate.ToString("dd/MM/yyyy") - @Model.StartTime.ToString(@"hh\:mm")
        </dd>

        <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Status)</dt>
        <dd class="col-sm-9">
             <span class="badge 
                @(Model.Status == AppointmentStatus.Approved ? "bg-success" : 
                  Model.Status == AppointmentStatus.Pending ? "bg-warning text-dark" : 
                  "bg-danger")">
                @Html.DisplayFor(model => model.Status)
            </span>
        </dd>
    </dl>

    <form asp-action="Delete">
        <input type="hidden" asp-for="AppointmentId" />
        <div class="mt-4">
            <button type="submit" class="btn btn-danger">Evet, İptal Et</button> |
            <a asp-action="Index" class="btn btn-secondary">Geri Dön</a>
        </div>
    </form>
</div>